<html>
<title>Testing Encryption</title>
	<body>
		<script type="text/javascript" src="cryptojs/rollups/aes.js"></script>
		<script>
			function encryptData()
			{
				dataAreaEncrypted.value = CryptoJS.AES.encrypt(gmailmailtextarea.value, "Test Passphrase")
			}

			function decryptData()
			{
				dataAreaEncryptedDecrypted.value = convertASCIIToString(CryptoJS.AES.decrypt(dataAreaEncrypted.value, "Test Passphrase"))
			}

			function convertASCIIToString(asciiText)
			{
				var asciiStr = "";
				var asciiString = asciiText.toString();
				var len = asciiString.length;
				for(var i=0;i<len;i=i+2)
				{
					var asciiChar = asciiString.substr(i, 2)
					asciiStr += String.fromCharCode(parseInt(asciiChar, 16));
				}
				return asciiStr;
			}
		</script>

		<textarea name="gmailmailtextarea" rows="10" cols="80"></textarea>
		<table>
			<tr>
				<td>
					<input type="button" value="Encrypt data" onclick="encryptData()">
				</td>
				<td>
					<input type="button" value="Decrypt data" onclick="decryptData()">
				</td>
			</tr>
		</table>
		<textarea name="dataAreaEncrypted" rows="3" cols="70" readOnly="readOnly"></textarea>
		<textarea name="dataAreaEncryptedDecrypted" rows="3" cols="70" readOnly="readOnly"></textarea>
	</body>
</html>